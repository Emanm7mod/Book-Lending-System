<app-nav></app-nav>
<div class="mb-4 d-flex justify-content-center mt-5">
  <div class="w-100" style="max-width: 400px;">

    <h4 class="text-center mb-3">Add New Book</h4>

    <form #bookForm="ngForm" (ngSubmit)="addbook()" class="d-flex flex-column gap-3" novalidate>

      <div>
        <label class="form-label">Book Name</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newbook.name"
          name="name"
          required
          #nameInput="ngModel"
        />
        <div *ngIf="nameInput.invalid && nameInput.touched" class="text-danger small">
          Book name is required.
        </div>
      </div>

      <div>
        <label class="form-label">Quantity</label>
        <input
          type="number"
          class="form-control"
          [(ngModel)]="newbook.quantity"
          name="quantity"
          min="1"
          required
          #quantityInput="ngModel"
        />
        <div *ngIf="quantityInput.invalid && quantityInput.touched" class="text-danger small">
          Quantity is required and must be at least 1.
        </div>
      </div>

      <div>
        <button class="btn btn-success w-100" type="submit" [disabled]="bookForm.invalid">
          Add
        </button>
      </div>

    </form>

  </div>
</div>

<!-- Success Message -->
<div *ngIf="successMessage" class="alert alert-success alert-dismissible fade show mt-3" role="alert">
  {{ successMessage }}
  <button type="button" class="btn-close" (click)="successMessage = null" aria-label="Close"></button>
</div>

<!-- Error Message -->
<div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
  {{ errorMessage }}
  <button type="button" class="btn-close" (click)="errorMessage = null" aria-label="Close"></button>
</div>
